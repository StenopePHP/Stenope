<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Loading content | Stenope, the static website generation tool for Symfony</title>
        <meta name="description" content="Stenope Documentation. The static website generation tool for Symfony">
                    <link rel="stylesheet" href="/Stenope/build/style.c1443638.css">
            </head>
    <body>
        <div class="main">
                            <div class="columns">
                    <aside class="sidebar">
                                                        <a href="/Stenope/" class="logo">
                                Stenope
                            </a>
                            <nav class="navigation">
                                <a href="/Stenope/" class="">
                                    About
                                </a>
                                                                                                    <a href="/Stenope/build-configuration" class="">
                                        Configuring the build
                                    </a>
                                                                    <a href="/Stenope/cli" class="">
                                        CLI
                                    </a>
                                                                    <a href="/Stenope/cookbooks/not-found-page" class="">
                                        Exposing a not found page
                                    </a>
                                                                    <a href="/Stenope/cookbooks/processors" class="">
                                        Content processors
                                    </a>
                                                                    <a href="/Stenope/link-contents" class="">
                                        Linking contents
                                    </a>
                                                                    <a href="/Stenope/loading-content" class="active">
                                        Loading content
                                    </a>
                                                                    <a href="/Stenope/supported-formats" class="">
                                        Supported formats
                                    </a>
                                                                    <a href="/Stenope/supported-sources" class="">
                                        Supported sources
                                    </a>
                                                                    <a href="/Stenope/syntax-highlighting" class="">
                                        Syntax highlighting
                                    </a>
                                                                    <a href="/Stenope/twig" class="">
                                        Twig integration
                                    </a>
                                                                <a href="https://github.com/StenopePHP/Stenope">
                                    <span class="icon-github"></span>
                                    Github
                                </a>
                            </nav>
                        
                <div class="table-of-content">
            <p class="title">Table of content</p>
            <ol class="list">
                                    <li>
                        <a href="#setup">Setup</a>
                                                    <ol class="sub-list">
                                                                    <li><a href="#create-your-model">Create your model</a></li>
                                                                    <li><a href="#register-content-provider">Register content provider</a></li>
                                                                    <li><a href="#write-your-first-content">Write your first content</a></li>
                                                            </ol>
                                            </li>
                                    <li>
                        <a href="#usage">Usage</a>
                                                    <ol class="sub-list">
                                                                    <li><a href="#listing-contents">Listing contents</a></li>
                                                                    <li><a href="#fetching-a-specific-content">Fetching a specific content</a></li>
                                                                    <li><a href="#sorting-contents">Sorting contents</a></li>
                                                                    <li><a href="#filtering-contents">Filtering contents</a></li>
                                                            </ol>
                                            </li>
                                    <li>
                        <a href="#debug">Debug</a>
                                            </li>
                                    <li>
                        <a href="#advanced-usage-and-extension">Advanced usage and extension</a>
                                                    <ol class="sub-list">
                                                                    <li><a href="#register-a-custom-denormalizer">Register a custom denormalizer</a></li>
                                                            </ol>
                                            </li>
                            </ol>
        </div>
                        </aside>
                    <main class="content">
                        <body><h1 id="loading-content">Loading content<a href="#loading-content" class="anchor"></a></h1>
<p>Stenope offers tools to fetch contents from local or distant sources, parse them and hydrate them as domain PHP objects.</p>
<p>To illustrate how that works, let's code a simple blog.</p>
<h2 id="setup">Setup<a href="#setup" class="anchor"></a></h2>
<h3 id="create-your-model">Create your model<a href="#create-your-model" class="anchor"></a></h3>
<p>Create a simple class that describe your model, here a blog Article:</p>
<pre class="code-multiline language-php"><code class="language-php" id="2c70293c60dc8cb7c38a8c87d6101b4d"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">Article</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword type-declaration">string</span> <span class="token variable">$slug</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword type-declaration">string</span> <span class="token variable">$title</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword type-declaration">string</span> <span class="token variable">$content</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name class-name-fully-qualified type-declaration"><span class="token punctuation">\</span>DateTimeInterface</span> <span class="token variable">$created</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token class-name class-name-fully-qualified type-declaration"><span class="token punctuation">\</span>DateTimeInterface</span> <span class="token variable">$lastModified</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></code></pre>
<h3 id="register-content-provider">Register content provider<a href="#register-content-provider" class="anchor"></a></h3>
<p>Register your model in <code class="code-inline" id="90a026eff90ce95fb30fb88b26e2040a">config/packages/stenope.yaml</code> by attributing a <em>path</em> to the model class:</p>
<pre class="code-multiline language-yaml"><code class="language-yaml" id="49f5c7020bce84925d10b5293469e3e3"><span class="token key atrule">stenope</span><span class="token punctuation">:</span>
  <span class="token key atrule">providers</span><span class="token punctuation">:</span>
    <span class="token key atrule">App\Model\Article</span><span class="token punctuation">:</span> <span class="token string">'%kernel.project_dir%/content/articles'</span> <span class="token comment"># Local directory</span></code></pre>
<p>Articles sources files are now expected to be found in the <code class="code-inline" id="f6ca3ea9feb268d247d32b7909c0efb8">content/articles</code> path.</p>
<p><em>Note: See other possible <a href="/Stenope/supported-sources">type of sources</a>.</em></p>
<h3 id="write-your-first-content">Write your first content<a href="#write-your-first-content" class="anchor"></a></h3>
<p>Write your first article in <code class="code-inline" id="a3f6d98021342733f989d9354314b972">content/articles/how-to-train-your-dragon.md</code>:</p>
<pre class="code-multiline language-markdown"><code class="language-markdown" id="35198f87de2e21cbf3528b984b00aa16"><span class="token front-matter-block"><span class="token punctuation">---</span>
<span class="token front-matter yaml language-yaml"><span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token string">"How to train your dragon"</span></span>
<span class="token punctuation">---</span></span>

<span class="token title important"><span class="token punctuation">#</span> This is Berk</span>

It's twelve days north of Hopeless and a few degrees south of Freezing to Death. It's located solidly on the Meridian of Misery. My village. In a word, sturdy. It's been here for seven generations, but every single building is new. We've got hunting, fishing, and a charming view of the sunsets. The only problems are the pests. Most places have mice or mosquitoes. We have... dragons.</code></pre>
<p>By default, the content of the source file are mapped on the <code class="code-inline" id="9a0364b9e99bb480dd25e1f0284c8555">content</code> property (Stenope supports Markdown out of the box) and the name of the file is mapped on the <code class="code-inline" id="2dbcba41b9ac4c5d22886ba672463cb4">slug</code> property._</p>
<p><em>Note: Check out all the natively <a href="/Stenope/supported-formats">supported formats</a>.</em></p>
<h2 id="usage">Usage<a href="#usage" class="anchor"></a></h2>
<h3 id="listing-contents">Listing contents<a href="#listing-contents" class="anchor"></a></h3>
<p>In your controller (or service):</p>
<pre class="code-multiline language-php"><code class="language-php" id="c06397a8c79dd1ae099fa9d8a85b0ae2"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Model<span class="token punctuation">\</span>Article</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Stenope<span class="token punctuation">\</span>Bundle<span class="token punctuation">\</span>ContentManagerInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Bundle<span class="token punctuation">\</span>FrameworkBundle<span class="token punctuation">\</span>Controller<span class="token punctuation">\</span>AbstractController</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>Annotation<span class="token punctuation">\</span>Route</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * @Route("/blog")
 */</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">BlogController</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractController</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * @Route("/", name="blog")
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">index</span><span class="token punctuation">(</span><span class="token class-name type-declaration">ContentManagerInterface</span> <span class="token variable">$contentManager</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token function">render</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'blog/index.html.twig'</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string single-quoted-string">'articles'</span> <span class="token operator">=&gt;</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span><span class="token scope">Article<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></span></code></pre>
<p><em>Note: contents of the same type can very well be writen in different formats.</em></p>
<h3 id="fetching-a-specific-content">Fetching a specific content<a href="#fetching-a-specific-content" class="anchor"></a></h3>
<p>The content manager uses slugs to identify your content.</p>
<p>The <code class="code-inline" id="2dbcba41b9ac4c5d22886ba672463cb4">slug</code> argument must exactly match the static file name in your content directory.</p>
<p>Example: <code class="code-inline" id="f341a2e6f77ea7ae8f5b496db7c87605">$contentManager-&gt;getContent(Article::class, 'how-to-train-your-dragon');</code> will fetch the <code class="code-inline" id="a3f6d98021342733f989d9354314b972">content/articles/how-to-train-your-dragon.md</code> article.</p>
<pre class="code-multiline language-php"><code class="language-php" id="984e99b0a82956f06a82e7cfa419f3c6"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Controller</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Model<span class="token punctuation">\</span>Article</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Stenope<span class="token punctuation">\</span>Bundle<span class="token punctuation">\</span>ContentManagerInterface</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Bundle<span class="token punctuation">\</span>FrameworkBundle<span class="token punctuation">\</span>Controller<span class="token punctuation">\</span>AbstractController</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Routing<span class="token punctuation">\</span>Annotation<span class="token punctuation">\</span>Route</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * @Route("/blog")
 */</span>
<span class="token keyword">class</span> <span class="token class-name-definition class-name">BlogController</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractController</span>
<span class="token punctuation">{</span>
    <span class="token comment">// ...</span>

    <span class="token doc-comment comment">/**
     * @Route("/<span class="token punctuation">{</span>slug<span class="token punctuation">}</span>", name="article")
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">article</span><span class="token punctuation">(</span><span class="token class-name type-declaration">ContentManagerInterface</span> <span class="token variable">$contentManager</span><span class="token punctuation">,</span> <span class="token keyword type-hint">string</span> <span class="token variable">$slug</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token this keyword">$this</span><span class="token operator">-&gt;</span><span class="token function">render</span><span class="token punctuation">(</span>
            <span class="token string single-quoted-string">'blog/article.html.twig'</span><span class="token punctuation">,</span>
            <span class="token punctuation">[</span><span class="token string single-quoted-string">'article'</span> <span class="token operator">=&gt;</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContent</span><span class="token punctuation">(</span><span class="token scope">Article<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token variable">$slug</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></span></code></pre>
<h3 id="sorting-contents">Sorting contents<a href="#sorting-contents" class="anchor"></a></h3>
<p>The <code class="code-inline" id="38182794119a00cb3971971d3ed157b8">getContents</code> method have a second parameters <code class="code-inline" id="944148f79859002056a61e879db8340c">$sortBy</code> that allows sorting the content list.</p>
<p>It accepts:</p>
<h4 id="a-property-name-string">A property name (string)<a href="#a-property-name-string" class="anchor"></a></h4>
<p>Alphabetically sorted categories:</p>
<pre class="code-multiline language-php"><code class="language-php" id="74e8e003f74086c62b368ce8776407c6"><span class="token variable">$categories</span> <span class="token operator">=</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span>
    <span class="token scope">Category<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'title'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4 id="an-array-of-properties-and-sorting-mode">An array of properties and sorting mode<a href="#an-array-of-properties-and-sorting-mode" class="anchor"></a></h4>
<p>All articles sorted by descending <code class="code-inline" id="5fc732311905cb27e82d67f4f6511f7f">date</code> (most recent first) and then by ascending <code class="code-inline" id="d5d3db1765287eef77d7927cc956f50a">title</code> (Alphabetically):</p>
<pre class="code-multiline language-php"><code class="language-php" id="ffc260b83256688efcf656a7b1ff8a73"><span class="token variable">$latestArticles</span> <span class="token operator">=</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span>
    <span class="token scope">Category<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string single-quoted-string">'date'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'title'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4 id="a-custom-callable-supported-by-the-php-usort-function">A custom callable supported by the PHP <a href="https://www.php.net/manual/fr/function.usort.php" target="_blank">usort</a> function<a href="#a-custom-callable-supported-by-the-php-usort-function" class="anchor"></a></h4>
<pre class="code-multiline language-php"><code class="language-php" id="fca13add98ae7f92a2c1cf89b3365785"><span class="token variable">$tasks</span> <span class="token operator">=</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span>
    <span class="token scope">Task<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token keyword">fn</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">,</span> <span class="token variable">$b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token variable">$a</span><span class="token operator">-&gt;</span><span class="token property">priority</span> <span class="token operator">&lt;=&gt;</span> <span class="token variable">$b</span><span class="token operator">-&gt;</span><span class="token property">priority</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h3 id="filtering-contents">Filtering contents<a href="#filtering-contents" class="anchor"></a></h3>
<p>The <code class="code-inline" id="38182794119a00cb3971971d3ed157b8">getContents</code> method have a third parameters <code class="code-inline" id="7981a5159468431c0fe44cac7c5654b7">$filterBy</code> that allows filtering the content list.</p>
<p>It accepts:</p>
<h4 id="an-array-of-properties-and-values">An array of properties and values<a href="#an-array-of-properties-and-values" class="anchor"></a></h4>
<pre class="code-multiline language-php"><code class="language-php" id="88ca6f1f5441336b2c8ebbd0249168b7"><span class="token variable">$articles</span> <span class="token operator">=</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span>
    <span class="token scope">Article<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token constant">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string single-quoted-string">'category'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'symfony'</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>When passing multiple requirements, all must be met:</p>
<pre class="code-multiline language-php"><code class="language-php" id="1bbe505121f58575ed297c3077f692b3"><span class="token variable">$myDrafts</span> <span class="token operator">=</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span>
    <span class="token scope">Article<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token constant">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token string single-quoted-string">'author'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'ogizanagi'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'draft'</span> <span class="token operator">=&gt;</span> <span class="token constant boolean">true</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4 id="a-custom-callable-supported-by-the-php-usort-function">A custom callable supported by the PHP <a href="https://www.php.net/manual/fr/function.usort.php" target="_blank">usort</a> function<a href="#a-custom-callable-supported-by-the-php-usort-function" class="anchor"></a></h4>
<pre class="code-multiline language-php"><code class="language-php" id="af2652ab560f5fba3eac4729ffb0eec8"><span class="token variable">$taggedMobileArticles</span> <span class="token operator">=</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span>
    <span class="token scope">Article<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token constant">null</span><span class="token punctuation">,</span>
    <span class="token keyword">fn</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Article</span> <span class="token variable">$article</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">bool</span> <span class="token operator">=&gt;</span> <span class="token function">in_array</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'mobile'</span><span class="token punctuation">,</span> <span class="token variable">$article</span><span class="token operator">-&gt;</span><span class="token property">tags</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<h4 id="an-expressionlanguage-expression">An ExpressionLanguage expression<a href="#an-expressionlanguage-expression" class="anchor"></a></h4>
<pre class="code-multiline language-php"><code class="language-php" id="a0444c1e0b9d87e3fc0643fc7053d9e9"><span class="token keyword">use</span> <span class="token keyword">function</span> <span class="token package">Stenope<span class="token punctuation">\</span>Bundle<span class="token punctuation">\</span>ExpressionLanguage<span class="token punctuation">\</span>expr</span><span class="token punctuation">;</span>

<span class="token variable">$taggedMobileArticles</span> <span class="token operator">=</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span>
    <span class="token scope">Article<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span>
    <span class="token constant">null</span><span class="token punctuation">,</span>
    <span class="token function">expr</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'"mobile" in _.tags'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// expr() and exprOr() are optional syntax sugar,</span>
<span class="token comment">// but you can also provide the expression as a string directly:</span>
<span class="token variable">$activeUsers</span> <span class="token operator">=</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span><span class="token scope">User<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'_.active'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Equivalent to ['active' =&gt; true]</span>
<span class="token variable">$activeDevUsers</span> <span class="token operator">=</span> <span class="token variable">$contentManager</span><span class="token operator">-&gt;</span><span class="token function">getContents</span><span class="token punctuation">(</span><span class="token scope">User<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'_.active and _.dev'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>
    <code class="code-inline" id="8d1dc3c660433f289282debc4dba780a">expr</code> accepts multiple expressions it'll combine using <code class="code-inline" id="be5d5d37542d75f93a87094459f76678">and</code>.<br>
    Use <code class="code-inline" id="d396460c1aa4926aff986a1c64940d08">exprOr</code> to combine expressions using <code class="code-inline" id="e81c4e4f2b7b93b481e13a8553c2ae1b">or</code>.
</p>
</div>
<p>See the <a href="https://symfony.com/doc/current/components/expression_language/syntax.html" target="_blank">ExpressionLanguage syntax</a>.  </p>
<p>You may also want to extend the expression language capabilities for your own contents by <a href="https://symfony.com/doc/current/components/expression_language/extending.html#using-expression-providers" target="_blank">registering a custom expression provider</a> tagged with <code class="code-inline" id="f233445feafb6e30033b3a84a7e4f659">stenope.expression_language_provider</code>.</p>
<p><strong>Built-in functions are:</strong></p>
<ul>
<li><code class="code-inline" id="5fc732311905cb27e82d67f4f6511f7f">date</code></li>
<li><code class="code-inline" id="dfeaaeb4316477bd556ea5e8c3295887">datetime</code></li>
<li><code class="code-inline" id="0122b4c2c01ee1c698ecc309d2b8eb5a">upper</code></li>
<li><code class="code-inline" id="81e073b428b50247daba38531dcf412a">lower</code></li>
<li><code class="code-inline" id="14f802e1fba977727845e8872c1743a7">keys</code></li>
</ul>
<p><em>The following functions are also available:</em></p>
<ul>
<li><code class="code-inline" id="857af22f119fefbfa24769ed2ad6d5e7">contains</code></li>
<li><code class="code-inline" id="76f7d12d470b32eb5e97964dedb0b407">starts_with</code></li>
<li><code class="code-inline" id="6ed8b7b43ec4674c0ef761589e1581d4">ends_with</code></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>
    but as of Symfony 6.1+, you should use the <a href="https://symfony.com/blog/new-in-symfony-6-1-improved-expressionlanguage-syntax#new-operators" target="_blank">new <code class="code-inline" id="0a7f4995e6820457caa233a0fe82bc64">starts with</code>, <code class="code-inline" id="feb972f0513d4da2670631692d44def9">ends with</code> and <code class="code-inline" id="857af22f119fefbfa24769ed2ad6d5e7">contains</code> operators</a> instead.
</p>
</div>
<h2 id="debug">Debug<a href="#debug" class="anchor"></a></h2>
<p>See <a href="/Stenope/cli#debug">CLI - Debug</a></p>
<h2 id="advanced-usage-and-extension">Advanced usage and extension<a href="#advanced-usage-and-extension" class="anchor"></a></h2>
<h3 id="register-a-custom-denormalizer">Register a custom denormalizer<a href="#register-a-custom-denormalizer" class="anchor"></a></h3>
<p>Unless specified otherwise, Stenope will denormalize your objects using the <a href="https://symfony.com/doc/current/components/serializer.html#deserializing-an-object" target="_blank">default Symfony serializer</a>.</p>
<p>For more control over your model denormalization, you can register your own Denormalizer.</p>
<p>Simply, create a service that implements Symfony's <code class="code-inline" id="8a78566acd14bdf433665f4c91baa08a">DenormalizerInterface</code> and supports your model:</p>
<pre class="code-multiline language-php"><code class="language-php" id="5810c0d5fd0bdc14d521df3c42bce673"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Stenope<span class="token punctuation">\</span>Denormalizer</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Model<span class="token punctuation">\</span>Article</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Symfony<span class="token punctuation">\</span>Component<span class="token punctuation">\</span>Serializer<span class="token punctuation">\</span>Normalizer<span class="token punctuation">\</span>DenormalizerInterface</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">ArticleDenormalizer</span> <span class="token keyword">implements</span> <span class="token class-name">DenormalizerInterface</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * Must return true for supported models.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">supportsDenormalization</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token variable">$format</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">is_a</span><span class="token punctuation">(</span><span class="token variable">$type</span><span class="token punctuation">,</span> <span class="token scope">Article<span class="token punctuation">::</span></span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * Instanciate your model from the denormalized data array.
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">denormalize</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token variable">$class</span><span class="token punctuation">,</span> <span class="token variable">$format</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token keyword type-hint">array</span> <span class="token variable">$context</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Article</span><span class="token punctuation">(</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'slug'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>DateTimeImmutable</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>DateTimeImmutable</span><span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'lastModified'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
<p><em>Note: Using autowiring, denormalizers are automaticaly registered in Symfony serializer.</em></p></body>                        <footer class="footer">
                                                            <p class="note">Stenope, the static website generation tool for Symfony.</p>
                                <a href="https://github.com/StenopePHP/Stenope">
                                    <span class="icon-github"></span>
                                    Stenope on Github
                                </a>
                                                    </footer>
                    </main>
                </div>
                    </div>
                    <script src="/Stenope/build/runtime.55cd3057.js" defer></script><script src="/Stenope/build/app.355f5b0f.js" defer></script>
            </body>
</html>
